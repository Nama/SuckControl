{% if rules %}
    {% for rule in rules %}
<div class="mdl-cell mdl-cell--2-col">
    <div class="rules-card index-card mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title mdl-card--expand">
            <table>
                <thead>
                    <tr><th class="mdl-data-table__cell--non-numeric">{{ config[rule['sensor_temp']] }}</th><th class="mdl-data-table__cell--non-numeric">{{ config[rule['sensor_controls'][0]] }}</th></tr>
                </thead>
                <tbody>
                    {% for point in rule['points'] %}
                    <tr>
                        <td>{{ point[0]}}</td><td>{{ point[1] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="mdl-card__actions mdl-card--border">
            <a onclick="delete_rule({{ loop.index0 }})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                <i class="material-icons">delete</i>
            </a>
            <div class="mdl-layout-spacer"></div>
            <label for="{{ rule['sensor_controls'][0] }}" class="mdl-switch mdl-js-switch mdl-js-ripple-effect">
                <input onchange="toggle_rule(this.id, {{ loop.index0 }})" type="checkbox" id="{{ rule['sensor_controls'][0] }}" class="mdl-switch__input" {%- if rule['enabled'] %} checked {%- endif %}>
                <span class="mdl-switch__label"></span>
            </label>
        </div>
    </div>
</div>
    {% endfor %}
{% endif %}
